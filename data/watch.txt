=========================================
=== Справка по команде watch.
=== Утилита для периодического запуска
=== заданного пользователем действия.
=========================================

Опции утилиты:
-b, --beep      Звуковой сигнал, если команда имеет ненулевой выход (ошибку)
-c, --color     Интерпретировать последовательности цветов и стилей ANSI
-d, --differences[=<permanent>]     Выделять изменения между обновлениями
-e, --errexit   Выйти, если команда имеет ненулевой выход
-g, --chgexit   Выйти при изменении вывода из команды
-n, --interval <secs>   Указать N секунд ожидания между обновлениями
-p, --precise   Попытаться выполнить команду с точными интервалами
-t, --no-title  Отключить заголовок
-w, --no-wrap   Отключить перенос строк
-x, --exec      Передать команду в exec вместо sh -c


1. Информация о синтаксисе и опциях утилиты
    $ watch --help

2. Выводить дату время каждые 5 секунд:
    $ watch -n 5 date

3. Показать изменения, которые произошли с последнего обновления:
    $ watch -d date

4.Выполниить команду date 10 раз с задержкой в 2 секунды:
    $ for i in {1..10}; do date ; sleep 2; done

5. Выполниить команду date бесконечное количество раз, с интервалом в 2 секунды:
(команда будет выполняться до тех пор, пока не будет прервана пользователем)
    $ while true; do date ; sleep 2; done

6. Выйти из утилиты при измененияя вывода:
    $ watch -g free

7. Команда watch повторяет действия в интерактивном окне терминала. Для прекращения работы с утилитой и вернуться в командную строку — нажмать комбинацию клавиш Ctrl + C.

8. Top процессов:
    $ watch -n 1 -d 'ps -eo pid,cmd,%cpu --sort=-%cpu | head'

9. Ждём появления строки "ERROR" в логе и выходим:
    $ watch -g "grep -q ERROR /var/log/app.log" echo 'Получили ERROR!'

10. Мини-график latency:
    $ watch -n 0.2 -p 'ping -c1 1.1.1.1 | awk -F"=" "/time=/{print $4}"'

